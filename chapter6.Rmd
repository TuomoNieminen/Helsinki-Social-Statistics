---
title       : Subsets and conditioning
description : UNDER CONSTRUCTION

--- type:NormalExercise lang:r xp:100 skills:1 key:c12d1b7017

## Selecting a subset()

Earlier in chapters 3 and 4 you learned how to look at your data with visualizations and summaries. This is great, but often there is a need to zoom in on a **subset** of the data matching some **condition**.

There are multiple ways to select a subset in R. Perhaps the most convenient is method the `subset()` function.

`subset()` is a generic function that works with several data formats. The first argument of `subset()` is the data, and the second argument are the conditions for selecting parts of the data.  

When used on a data.frame, `subset()` returns the rows of the data.frame which match the specified **logical conditions**.

*** =instructions
- instruction 1
- instruction 2

*** =hint
- hint 1
- hint 2


*** =pre_exercise_code
```{r}
# pre exercise code here
```

*** =sample_code
```{r}

# Look at the first 6 rows of data
head(data)

# select a subset from data
subdata <- subset(data, conditions)

# Look at the first 6 rows of the subdata
head(subdata)

# select a subset from data

```

*** =solution
```{r}
#solution code here
```

*** =sct
```{r}
# submission correctness tests

# example tests:
# test_output_contains("output")
# test_object("object_name")
# test_function("function_name", args=c("arg1"))

# test if the students code produces an error
test_error()

# Final message the student will see upon completing the exercise
success_msg("Great work!")

```

--- type:NormalExercise lang:r xp:100 skills:1 key:73f94cfacf

## Logical comparison

What you just saw inside the `subset()` function was  **logical comparison**. Logical comparison creates boolean vectors which can then be used to for example select subsets of data. 

The logical comparison operators in R are:  

operator  | description
----------|------------
`==`      | exactly equal to
`!=`      | not equal to
`<`       | less than
`>`       | greater than
`<=`      | less or equal to
`>=`      | greater or equal to


When used with vectors, logical comparison produces a logical vector.

*** =instructions
- execute and study the example codes
- Select a suitable logical comparison operator and a suitable comparison value to produce a vector `TRUE, FALSE, FALSE`
- Extra: Can you think of another way to create the same vector?

*** =hint
- The third example should point you in the right direction
- If you're uncertain, just choose a value and try out a bunch of different operators to figure out what might work.


*** =pre_exercise_code
```{r}


```

*** =sample_code
```{r}
# exactly equal
5 == 5 # TRUE

# Not equal
"cat" != "dog" # TRUE

# Greater or equal
c(0,1,2) >= 1 # FALSE TRUE TRUE

# Use logical comparison to produce a result TRUE FALSE FALSE
c(2,3,4)

```

*** =solution
```{r}
# exactly equal
5 == 5

# not equal
"cat" != "dog"

# greater or equal
c(0,1,2) >= 1

# use a logical comparison to produce a result TRUE FALSE FALSE
c(2,3,4) < 3

```

*** =sct
```{r}
# submission correctness tests

# example tests:
test_output_contains("c(2,3,4)<3", incorrect_msg = "Please make the necessary adustments to produce the output TRUE FALSE FALSE")

# test if the students code produces an error
test_error()

# Final message the student will see upon completing the exercise
success_msg("Well done! Logic is the beginning of wisdom, not the end - Spock")

```

--- type:NormalExercise lang:r xp:100 skills:1 key:d7b5a24d40

## Logical operators

Logical conditions can be combined with the following logical operators:

operator  | description
----------|------------
`!a`      | NOT a
`a & b`   | a AND b
`a \| b`  | a OR b


The logical operators work like logical conditions: they compare the elements of vectors one at a time. 

In R, `T` and `F` can be used to abbreviate `TRUE` and `FALSE`. So, for example:

`c(F, T) & c(T, T)`   

produces a logical vector `FALSE TRUE`. With these tools you are ready to do some serious subsetting.

*** =instructions
- instruction 1
- instruction 2

*** =hint
- hint 1
- hint 2


*** =pre_exercise_code
```{r}
# pre exercise code here
```

*** =sample_code
```{r}
# sample code here

# create a subset
subdata <- subset(data, var1 <= value & var2 <= value)


# create your subset here

```

*** =solution
```{r}
#solution code here
```

*** =sct
```{r}
# submission correctness tests

# example tests:
# test_output_contains("output")
# test_object("object_name")
# test_function("function_name", args=c("arg1"))

# test if the students code produces an error
test_error()

# Final message the student will see upon completing the exercise
success_msg("Nice! You are the operator indeed.")

```

--- type:NormalExercise lang:r xp:100 skills:1 key:71e768aa4c

## Classical probability

Probability is the measure of the likelihood that an event will occur. It is quantified as a number between 0 and 1. Probability is an **essential** tool for statistics since the discipline is primarily interested in measuring uncertainty.

The classical definition of probability is the proportion of favourable cases. The probability for event A out of all possible outcomes $\Omega$ is:

$$P(A) = \frac{n(A)}{n(\Omega)}$$

where n() gives the number of elements. 

In R, instead of n() we have the functions `length()` for vectors and `nrow()` for data.frames to get the number of elements.


*** =instructions
- instruction 1
- instruction 2

*** =hint
- hint 1
- hint 2


*** =pre_exercise_code
```{r}
# pre exercise code here
```

*** =sample_code
```{r}
# sample code here
```

*** =solution
```{r}
#solution code here
```

*** =sct
```{r}
# submission correctness tests

# example tests:
# test_output_contains("output")
# test_object("object_name")
# test_function("function_name", args=c("arg1"))

# test if the students code produces an error
test_error()

# Final message the student will see upon completing the exercise
success_msg("Good work!")

```

--- type:NormalExercise lang:r xp:100 skills:1 key:562f9818e0

## Conditional probability

Under construction.

*** =instructions
- instruction 1
- instruction 2

*** =hint
- hint 1
- hint 2


*** =pre_exercise_code
```{r}
# pre exercise code here
```

*** =sample_code
```{r}
# sample code here
```

*** =solution
```{r}
#solution code here
```

*** =sct
```{r}
# submission correctness tests

# example tests:
# test_output_contains("output")
# test_object("object_name")
# test_function("function_name", args=c("arg1"))

# test if the students code produces an error
test_error()

# Final message the student will see upon completing the exercise
success_msg("Good work!")

```

