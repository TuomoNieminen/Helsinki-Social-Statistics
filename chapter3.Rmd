---
title       : Looking at the data
description : Data are everywhere and everything. That's why Statistics is also called Data Science. R offers great tools for looking at the data, behind the numbers.

--- type:NormalExercise lang:r xp:100 skills:1 key:9c7624db08

## Getting intimate with the data

In this section, you will learn how to get familiar with your data by zooming in on it, visualizing it and summarizing it.

These are always the first things to do after the data is collected and preprocessed (cleaned).


*** =instructions
- Take a look at the examples, you will learn more about all of them in the next exercises.
-  You can browse the different plots by clicking on "Next/Previous plot".
- Click 'Submit Answer' to move to the first exercise.



*** =pre_exercise_code
```{r}
  # load data from web
students2014 <- read.table("http://www.helsinki.fi/~kvehkala/JYTmooc/JYTOPKYS-data.txt", sep="\t", header=TRUE)
  # keep a couple background variables
students2014 <- students2014[,c("sukup","toita","ika","pituus","kenka","kone")]
  # recode kone variables missing values as factor levels
students2014$kone <- addNA(students2014$kone)
  # keep only rows without missing values
students2014 <- students2014[complete.cases(students2014),]

# bar plot of operating systems 
barplot(table(students2014$kone), main = "Barplot of OS", xlab = "Linux, Mac, Win or none")

# histogram of heights
hist(students2014$pituus,  main ="Histogram of height", xlab = "height")
  
# horizontally placed box plot of ages
boxplot(students2014$ika, main = "Boxplot of age", xlab = "ika", horizontal = T)


```

*** =sample_code
```{r}
# students2014 is available

# Bar plot of operating systems 
barplot(table(students2014$kone), main = "Barplot of OS", xlab = "Linux, Mac, Win or none")
    
# Histogram of student heights
hist(students2014$pituus,  main ="Histogram of height", xlab = "height")
  
# Box plot of student ages
boxplot(students2014$ika, main = "Boxplot of age", xlab = "ika", horizontal = T)


```

*** =solution
```{r}
```

*** =sct
```{r}
test_error()
success_msg("Ready? Let's go for it!")
```

--- type:NormalExercise lang:r xp:100 skills:1, 3  key:0e42548148
## summary() statistics

Some functions in R are very generic. They can take different objects as their first argument and they seem to magically do exactly what you'd hope they do in all situations.

One such example is the `summary()` function. Depending on the type of data object it receives as it's first argument, `summary()` will produce different convenient results. 

*** =instructions
- Execute the code that creates a summary of the object `kone` in the data.frame `students2014`
- Execute the code that creates a summary of the object `ika`.
- Create a summary of the object `students2014`.

*** =hint
- Get the summary of an object by typing `summary(object)`.

*** =pre_exercise_code
```{r}
# load data from web
students2014 <- read.table("http://www.helsinki.fi/~kvehkala/JYTmooc/JYTOPKYS-data.txt", sep="\t", header=TRUE)
# keep a couple background variables
students2014 <- students2014[,c("sukup","toita","ika","pituus","kenka","kone")]
# recode kone variables missing values as factor levels
students2014$kone <- addNA(students2014$kone)
# keep only rows without missing values
students2014 <- students2014[complete.cases(students2014),]

```


*** =sample_code
```{r}
# students2014 is available

# Create a summary of a factor object
summary(students2014$kone)

# Create a summary of a numeric object
summary(students2014$ika)

# Create a summary of a data.frame object




```

*** =solution
```{r}

# Create a summary of a factor object
summary(students2014$kone)

# Create a summary of a numeric object
summary(students2014$ika)

# Create a summary of a data.frame object
summary(students2014)



```

*** =sct
```{r}
test_student_typed("summary(students2014)", not_typed_msg="Please type in the code to create a summary of `students2014`")

test_error()
success_msg("Well done!")
```


--- type:NormalExercise lang:r xp:100 skills:1 key:457280046c

## Bar plots of qualitative variables

Bar plots are useful for visualizing qualitative, discrete variables. A bar plot represents the counts of the unique values of the variable of interest. Drawing a bar plot only makes sense when there are only a few unique values possible.

In this exercise you will draw a barplot of `kone` in the data frame `students2014`. For each student the value of `kone` is the operating system of the students computer. For more information see [the metafile](http://www.helsinki.fi/~kvehkala/JYTmooc/JYTOPKYS-meta.txt).

In base R graphics, the function `barplot()` can be used to draw a bar plot. The information needed for the function can be computed by first creating a `summary()` or a `table()`.


*** =instructions
- Use `summary()` on `kone` in the data frame `students2014`.
- Many of the values of `kone` are `<NA>`, not available. Why do you think this could be?
- Replace the `NULL` with a call to `summary()` and create object `os_counts` by assigning the summary of `kone` to it.
- Use the function `barplot()` to draw a bar plot. Use the object you created as the first argument.

*** =hint
- replace `NULL` with the example code using `summary()` to create the object `os_counts`.
- Then give the object os_counts an argument inside the parenthesis in `barplot()`. 


*** =pre_exercise_code
```{r}
  # load data from web
students2014 <- read.table("http://www.helsinki.fi/~kvehkala/JYTmooc/JYTOPKYS-data.txt", sep="\t", header=TRUE)
  # keep a couple background variables
students2014 <- students2014[,c("sukup","toita","ika","pituus","kenka","kone")]
  # recode kone variables missing values as factor levels
students2014$kone <- addNA(students2014$kone)
  # keep only rows without missing values
students2014 <- students2014[complete.cases(students2014),]

```


*** =sample_code
```{r}
# students2014 is available

# Look at the counts of different levels of 'kone'.
summary(students2014$kone)

# Create object os_counts that stores the counts
os_counts <- NULL

# Call barplot() to draw a graph. Use the object you created as the first argument.


  
```

*** =solution
```{r}
# students2014 is available

# Look at the counts of different levels.
summary(students2014$kone)

# Create object os_counts that stores the counts
os_counts <- summary(students2014$kone)

# Call barplot() to draw a graph. Use the object you created as an argument.
barplot(os_counts)



```

*** =sct
```{r}
test_function("barplot", args="height")

test_error()
success_msg("Excellent work!")
```

--- type:NormalExercise lang:r xp:150 skills:1 key:82217456fa

## Bar plots of continuous variables

When a variable is continuous by nature, it means that it can take on so many different values that all of it's observed values are likely to be unique. In practise though, measurements are always discrete and hence continuity is a matter of interpretation.

Age can be interpret as continuous because of the continuous nature of time. The exact age of a person depends on the exact time of birth and is different for all. However, age is often measured quite discretely as rounded down years.

Even when age is measured in years, usually there are too many unique values to draw bar plot that makes sense and a continuous interpretation is valid. So how do we then look at the distribution of age? A solution is to first categorize age.


*** =instructions
- Draw a bar plot of students age. How does it look?
- Use `cut()` to create a factor object where age is cut into intervals. Use the vector `c(0, 16, 20, 24, 30, 100)` as break points.
- Follow the procedure in the previous exercise and use `summary()` and `barplot()` on the new object to draw a barplot.


*** =hint
- Use `breaks = c(0, 16, 20, 24, 30, 100)` to create the factor object `age_cut`
- Make sure to close the parenthesis on `cut()`.
- See the previous exercise for information on how to create a bar plot of a factor object.


*** =pre_exercise_code
```{r}
  # load data from web
students2014 <- read.table("http://www.helsinki.fi/~kvehkala/JYTmooc/JYTOPKYS-data.txt", sep="\t", header=TRUE)
  # keep a couple background variables
students2014 <- students2014[,c("sukup","toita","ika","pituus","kenka","kone")]
  # recode kone variables missing values as factor levels
students2014$kone <- addNA(students2014$kone)
  # keep only rows without missing values
students2014 <- students2014[complete.cases(students2014),]

```


*** =sample_code
```{r}
# students2014 is available

# Draw a barplot of student age
barplot(students2014$ika)

# Split age to intervals
age_cut <- cut(students2014$ika, breaks = NULL)

# Draw a bar plot of age_cut
# Use summary() first



```

*** =solution
```{r}
# draw a barplot of student age
barplot(students2014$ika)

# split age to intervals
age_cut <- cut(students2014$ika, breaks = c(0, 16, 20, 24, 30, 100))

# Draw a bar plot of age_cut
# Use summary() first
barplot(summary(age_cut))


```

*** =sct
```{r}
test_object("age_cut", incorrect_msg = "Please use `breaks = c(0, 16, 20, 24, 30, 100)` to create the object age_cut.")

test_function("barplot", args=c("height"))

test_error()
success_msg("That was awsome!")
```

--- type:NormalExercise lang:r xp:100 skills:1 key:86cee4bd71

## Histograms

Splitting a continuous variable into intervals of equal width and then drawing a bar plot is so common that the procedure has it's own name: the histogram. 

In R, basic histograms can be drawn with the `hist()` function. The first argument of `hist()` should be a numeric vector of data values. The argument `breaks` can be used to approximately control the number of intervals.

The plotting functions in R also have many additional arguments which allow for more control over the plot. One simple argument is `col`, which can be the name of the desired color ("blue", "green", etc). Some possible color names can be found <a target="_blank" href="http://www.stat.columbia.edu/~tzheng/files/Rcolor.pdf">here</a>.

*** =instructions
- Adjust the sample code and draw the histogram again by setting the argument `breaks = 25`.
- Use the `col` argument to give the histogram a nice color of your choice. Use quotations marks to define the color name.
- Set the argument `xlab = "Age"`.
- Set the argument `main = "My histogram"`


*** =hint
- Remember to seperate the arguments of a function with a comma.


*** =pre_exercise_code
```{r}
# load data from web
students2014 <- read.table("http://www.helsinki.fi/~kvehkala/JYTmooc/JYTOPKYS-data.txt", sep="\t", header=TRUE)
# keep a couple background variables
students2014 <- students2014[,c("sukup","toita","ika","pituus","kenka","kone")]
# recode kone variables missing values as factor levels
students2014$kone <- addNA(students2014$kone)
# keep only rows without missing values
students2014 <- students2014[complete.cases(students2014),]

# Draw a histogram of student age
hist(students2014$ika)

```

*** =sample_code
```{r}
# students2014 is available

# Draw a histogram of student age
hist(students2014$ika)



```

*** =solution
```{r}
# students2014 is available

# Draw a histogram of student age
hist(students2014$ika, breaks=25, col = "blue", xlab = "Age", main = "My histogram")


```

*** =sct
```{r}
# submission correctness tests

test_function("hist", args=c("x","breaks","main","xlab"))

test_error()
success_msg("Very well done!")

```



--- type:NormalExercise lang:r xp:100 skills:1 key:c3d62c54f5

## Box plots

One very good way to visualize the most important summary statistics of a variable is by drawing box plots. A box plot visualizes the 25th, 50th and 75th percentiles (the box), the typical range (the whiskers) and the outliers (the dots) of a variable 

The whiskers extending from the box can be computed by several techniques. The default in R is to extend them to reach to a data point that is no more than 1.5*IQR away from the box, where IQR is the inter quartile range defined as  

`IQR = 75th percentile - 25th percentile`  

Values outside the whiskers can be considered as outliers, unusually distant observations. For more information on IQR, see <a target="_blank" href ="https://en.wikipedia.org/wiki/Interquartile_range"> wikipedia</a>

*** =instructions
- Draw a `boxplot()` of `var`.
- Add a suitable label to the y axis and a main title of your choice.

*** =hint
- hint1

*** =pre_exercise_code
```{r}
# pec
```


*** =sample_code
```{r}
# data frame is available

# See the help page of boxplot()
?boxplot

# Draw a boxplot of var. Add a y axis label and a main title.



```

*** =solution
```{r}
# Draw a boxplot of var. Add a y axis label and a main title.
boxplot(var, ylab = "", main = "")


```

*** =sct
```{r}


test_function("boxplot", args="x")

# test error
test_error()


# Final message the student will see upon completing the exercise
success_msg("Awsome work!")

```

